# 機能要求: テーブルドキュメントへの論理名カラム対応

## 概要
テーブルドキュメントにおいて、データベースのカラムコメントから論理名（日本語名/ローカル言語名）を抽出し、独立したカラムとして表示する機能を追加する。

## 要件

### 1. 論理名カラムの表示
- テーブルドキュメント出力に新しい「論理名」カラムを追加
- 既存のNameカラムと並べて表示

### 2. 設定による制御
- tblsの設定ファイルで論理名カラムの出力を有効/無効にできること
- プロジェクト単位で設定可能

### 3. データソース
- データベースのテーブル各カラムのcommentsから論理名データを取得
- tblsが現在サポートする全データベース（PostgreSQL、MySQL、SQLite等）に対応

### 4. フォールバック動作
- 論理名データが存在しない場合は、物理カラム名（Name）をフォールバックとして表示
- 論理名カラムに空のセルが表示されないようにする

### 5. カラム順序（論理名有効時）
論理名カラムが有効な場合、テーブルのカラム順序は以下とする：
1. 名前（Name：物理カラム名）
2. 論理名（新しいカラム）
3. データ型（Type）
4. デフォルト値（Default）
5. NULL許可（Nullable）
6. 子テーブル（Children）
7. 親テーブル（Parents）
8. コメント（Comment）

### 6. コメントフィールドの処理
論理名カラムが有効な場合、Commentフィールドの内容を処理：
- 区切り文字を使用してコメント内容を分割
- 前半部分 → 論理名カラム
- 後半部分 → コメントカラム

### 7. コメント表示
論理名カラムが有効な場合：
- コメントカラムは区切り文字以降の内容のみ表示
- 論理名部分はコメントフィールドから除外

### 8. 区切り文字の設定
- デフォルト区切り文字：`|`（パイプ文字）
- 設定ファイルでカスタマイズ可能
- コメント形式例：`ユーザーID|ユーザーの一意識別子`

## 設定例

```yaml
# .tbls.yml
format:
  logicalName:
    enabled: true
    delimiter: "|"
    fallbackToName: true
```

## 使用例

### 現在の出力
| 名前      | データ型       | デフォルト値 | NULL許可 | コメント    |
|-----------|---------------|------------|----------|-------------|
| user_id   | integer       |            | false    | ユーザーID  |
| username  | varchar(50)   |            | false    | ユーザー名  |

### 期待される出力（論理名有効時）
| 名前      | 論理名     | データ型       | デフォルト値 | NULL許可 | コメント |
|-----------|------------|---------------|------------|----------|----------|
| user_id   | ユーザーID | integer       |            | false    |          |
| username  | ユーザー名 | varchar(50)   |            | false    |          |

### 区切り文字付きコメントの場合
データベースコメント：`ユーザーID|ユーザーの一意識別子`

| 名前      | 論理名     | データ型       | デフォルト値 | NULL許可 | コメント              |
|-----------|------------|---------------|------------|----------|-----------------------|
| user_id   | ユーザーID | integer       |            | false    | ユーザーの一意識別子  |

## 実装上の考慮事項

1. **後方互換性**: この機能はオプトインとし、既存機能に影響しないこと
2. **テンプレート更新**: 既存テンプレート（MD、HTML等）を新しいカラムに対応させる
3. **多言語対応**: 日本語に限定せず、あらゆる言語に対応すること
4. **パフォーマンス**: ドキュメント生成パフォーマンスに大きな影響を与えないこと
5. **テスト**: サポートするすべてのデータベース種別での包括的なテスト

## 修正対象ファイル
- `config/config.go` - 設定オプションの追加
- `schema/schema.go` - 必要に応じてColumn構造体の拡張
- `output/md/templates/table.md.tmpl` - テンプレートの更新
- `output/*/templates/` - 全フォーマットのテンプレート更新
- 全サポートデータベースのテスト

## 利点
- 国際チームでのより良いドキュメント作成
- 技術用語とビジネス用語の分離
- 非技術者にとっての可読性向上
- コメントフィールドの柔軟な活用

## 優先度
中 - 多言語ドキュメント要件があるチームにとって価値のある追加機能

## 関連Issue
- 現在のコメント機能との互換性維持
- 既存のdict機能との連携可能性

## 追加検討事項
- 論理名の多言語切り替え機能
- 論理名の外部ファイルからの読み込み
- 論理名の自動翻訳機能との連携